{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/cantina-membership-admin-dashboard/lib/api/users.ts"],"sourcesContent":["/**\r\n * Users API Service\r\n * Handles all user-related API calls\r\n */\r\n\r\nimport { apiClient } from './client'\r\nimport type { UsersResponse, GetUsersParams } from '../types/users'\r\n\r\nclass UsersService {\r\n  /**\r\n   * Get all users with pagination\r\n   */\r\n  async getAllUsers(params?: GetUsersParams): Promise<{ success: boolean; data?: UsersResponse; error?: string; message?: string }> {\r\n    try {\r\n      // Build input with defaults as per API requirements\r\n      const input: Record<string, any> = {\r\n        membershipStatus: params?.membershipStatus || \"all\", // Default to \"all\"\r\n        page: params?.page || 1, // Default to 1\r\n        limit: params?.limit || 10, // Default to 20\r\n      }\r\n      \r\n      // Add search if provided\r\n      if (params?.search) {\r\n        input.search = params.search\r\n      }\r\n\r\n      console.log('[Users Service] Fetching users with params:', input)\r\n      \r\n      // tRPC POST format: { \"0\": { \"json\": input } }\r\n       // input is the key, { json: input } is the value\r\n      \r\n      console.log('[Users Service] POST Body:', JSON.stringify(input, null, 2))\r\n      \r\n      const response = await apiClient.post<UsersResponse>('/api/trpc/admin.users.getAll', input)\r\n      \r\n      console.log('[Users Service] API Response:', response)\r\n\r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          message: 'Users fetched successfully',\r\n        }\r\n      }\r\n\r\n      const errorMsg = typeof response.error === 'string' \r\n        ? response.error \r\n        : typeof response.error === 'object' && (response.error as any)?.message\r\n        ? (response.error as any).message\r\n        : typeof response.message === 'string'\r\n        ? response.message\r\n        : 'Failed to fetch users'\r\n\r\n      return {\r\n        success: false,\r\n        error: errorMsg,\r\n        message: errorMsg,\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'An unexpected error occurred'\r\n      console.error('[Users Service] Error:', error)\r\n      return {\r\n        success: false,\r\n        error: errorMessage,\r\n        message: errorMessage,\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Get user by ID\r\n   */\r\n  async getUserById(userId: string): Promise<{ success: boolean; data?: any; error?: string }> {\r\n    try {\r\n      if (!userId || typeof userId !== 'string' || userId.trim() === '') {\r\n        console.error('[Users Service] userId is missing or invalid')\r\n        return {\r\n          success: false,\r\n          error: 'User ID is required',\r\n        }\r\n      }\r\n\r\n      console.log('[Users Service] Fetching user by ID:', userId)\r\n      \r\n      const requestBody = { userId }\r\n      \r\n      console.log('[Users Service] POST Body:', JSON.stringify(requestBody, null, 2))\r\n      \r\n      const response = await apiClient.post<any>('/api/trpc/admin.users.getById', requestBody)\r\n      \r\n      console.log('[Users Service] Get user by ID response:', response)\r\n\r\n      if (response.success && response.data) {\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n        }\r\n      }\r\n\r\n      const errorMsg = typeof response.error === 'string' \r\n        ? response.error \r\n        : typeof response.error === 'object' && (response.error as any)?.message\r\n        ? (response.error as any).message\r\n        : typeof response.message === 'string'\r\n        ? response.message\r\n        : 'Failed to fetch user'\r\n\r\n      return {\r\n        success: false,\r\n        error: errorMsg,\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'An unexpected error occurred'\r\n      console.error('[Users Service] Get user by ID error:', error)\r\n      return {\r\n        success: false,\r\n        error: errorMessage,\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update user profile\r\n   */\r\n  async updateUser(data: {\r\n    userId: string\r\n    firstName?: string\r\n    lastName?: string\r\n    email?: string\r\n    phone?: string\r\n    password?: string\r\n    birthday?: string\r\n    profileImage?: string\r\n    membershipStatus?: string\r\n    membership?: {\r\n      tier: string\r\n      status: string\r\n      startDate: string\r\n      endDate: string\r\n    }\r\n  }): Promise<{ success: boolean; data?: any; error?: string; message?: string }> {\r\n    try {\r\n      // Validate userId is present\r\n      if (!data.userId || typeof data.userId !== 'string' || data.userId.trim() === '') {\r\n        console.error('[Users Service] userId is missing or invalid:', data)\r\n        return {\r\n          success: false,\r\n          error: 'User ID is required',\r\n          message: 'User ID is required',\r\n        }\r\n      }\r\n      \r\n      console.log('[Users Service] Updating user with data:', data)\r\n      console.log('[Users Service] UserId:', data.userId)\r\n      \r\n      // tRPC POST format: { \"0\": { \"json\": data } }\r\n      // const tRPCBody = { data}\r\n      \r\n      console.log('[Users Service] POST Body:', JSON.stringify(data, null, 2))\r\n      // console.log('[Users Service] POST Body userId check:', tRPCBody[\"0\"])\r\n      \r\n      const response = await apiClient.post<any>('/api/trpc/admin.users.update', data)\r\n      \r\n      console.log('[Users Service] Update response:', response)\r\n\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          data: response.data,\r\n          message: 'User updated successfully',\r\n        }\r\n      }\r\n\r\n      const errorMsg = typeof response.error === 'string' \r\n        ? response.error \r\n        : typeof response.error === 'object' && (response.error as any)?.message\r\n        ? (response.error as any).message\r\n        : typeof response.message === 'string'\r\n        ? response.message\r\n        : 'Failed to update user'\r\n\r\n      return {\r\n        success: false,\r\n        error: errorMsg,\r\n        message: errorMsg,\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'An unexpected error occurred'\r\n      console.error('[Users Service] Update user error:', error)\r\n      return {\r\n        success: false,\r\n        error: errorMessage,\r\n        message: errorMessage,\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Delete user by ID\r\n   */\r\n  async deleteUser(userId: string): Promise<{ success: boolean; error?: string; message?: string }> {\r\n    try {\r\n      if (!userId || typeof userId !== 'string' || userId.trim() === '') {\r\n        console.error('[Users Service] userId is missing or invalid')\r\n        return {\r\n          success: false,\r\n          error: 'User ID is required',\r\n          message: 'User ID is required',\r\n        }\r\n      }\r\n\r\n      console.log('[Users Service] Deleting user with ID:', userId)\r\n      \r\n      const response = await apiClient.post<any>('/api/trpc/admin.users.delete', { userId })\r\n      \r\n      console.log('[Users Service] Delete response:', response)\r\n\r\n      if (response.success) {\r\n        return {\r\n          success: true,\r\n          message: 'User deleted successfully',\r\n        }\r\n      }\r\n\r\n      const errorMsg = typeof response.error === 'string' \r\n        ? response.error \r\n        : typeof response.error === 'object' && (response.error as any)?.message\r\n        ? (response.error as any).message\r\n        : typeof response.message === 'string'\r\n        ? response.message\r\n        : 'Failed to delete user'\r\n\r\n      return {\r\n        success: false,\r\n        error: errorMsg,\r\n        message: errorMsg,\r\n      }\r\n    } catch (error) {\r\n      const errorMessage = error instanceof Error ? error.message : 'An unexpected error occurred'\r\n      console.error('[Users Service] Delete user error:', error)\r\n      return {\r\n        success: false,\r\n        error: errorMessage,\r\n        message: errorMessage,\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n// Export singleton instance\r\nexport const usersService = new UsersService()\r\n\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 184, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/cantina-membership-admin-dashboard/components/pages/users-list.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Search, Edit, X, Calendar, TrendingUp, Download, ArrowUpDown, Loader2, Trash2, User as UserIcon, Eye } from \"lucide-react\"\r\nimport { usersService } from \"@/lib/api/users\"\r\nimport type { User } from \"@/lib/types/users\"\r\nimport { useRouter } from \"next/navigation\"\r\n\r\n// Type for formatted user display\r\ntype FormattedUser = {\r\n  id: string\r\n  name: string\r\n  email: string\r\n  phone: string\r\n  membership: string\r\n  joined: string\r\n  transactions: string\r\n  avatar: string\r\n  status: string\r\n  membershipDate: string\r\n  lastPurchase: string\r\n  totalSpent: string\r\n  password?: string // Optional password field for editing\r\n  rawUser: User // Keep original for editing\r\n}\r\n\r\n// Helper function to format API user to component format\r\nconst formatUserForDisplay = (user: User): FormattedUser => {\r\n  const fullName = `${user.firstName} ${user.lastName}`\r\n  const membership = user.membershipStatus === 'none' \r\n    ? 'No Membership' \r\n    : `${user.membershipStatus.toUpperCase()} MEMBER`\r\n  \r\n  const joinedDate = new Date(user.joinDate).toLocaleDateString('en-GB', {\r\n    day: '2-digit',\r\n    month: '2-digit',\r\n    year: 'numeric'\r\n  })\r\n\r\n  return {\r\n    id: user.id,\r\n    name: fullName,\r\n    email: user.email,\r\n    phone: user.phone,\r\n    membership: membership,\r\n    joined: joinedDate,\r\n    transactions: `${user.punchCard.punches} transactions`,\r\n    avatar: user.profileImage || \"ðŸ‘¤\",\r\n    status: user.membership?.status === 'active' ? \"Active\" : \"Inactive\",\r\n    membershipDate: user.membership?.startDate \r\n      ? new Date(user.membership.startDate).toLocaleDateString('en-GB', {\r\n          day: '2-digit',\r\n          month: '2-digit',\r\n          year: 'numeric'\r\n        })\r\n      : \"-\",\r\n    lastPurchase: \"-\", // Not in API response\r\n    totalSpent: \"$0.00\", // Not in API response\r\n    rawUser: user, // Keep original for editing\r\n  }\r\n}\r\n\r\nconst membershipTabs = [\"All\", \"Blanco\", \"Reposado\", \"Anejo\", \"Secret\", \"None\"]\r\n\r\nexport function UsersList() {\r\n  const router = useRouter()\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [activeTab, setActiveTab] = useState(\"All\")\r\n  const [editingUser, setEditingUser] = useState<FormattedUser | null>(null)\r\n  const [userHistory, setUserHistory] = useState<FormattedUser | null>(null)\r\n  const [deletingUser, setDeletingUser] = useState<FormattedUser | null>(null)\r\n  const [sortBy, setSortBy] = useState<\"name\" | \"joined\" | \"spent\">(\"name\")\r\n  const [editFormData, setEditFormData] = useState<FormattedUser | null>(null)\r\n  const [isDeleting, setIsDeleting] = useState(false)\r\n  \r\n  // API state\r\n  const [apiUsers, setApiUsers] = useState<FormattedUser[]>([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [pagination, setPagination] = useState({ page: 1, limit: 10, total: 0, totalPages: 1 })\r\n\r\n  // Fetch users from API\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      setIsLoading(true)\r\n      setError(null)\r\n      \r\n      try {\r\n        // Map tab to API membershipStatus format\r\n        // \"All\" -> \"all\", others -> lowercase\r\n        const membershipStatus = activeTab === \"All\" ? \"all\" : activeTab.toLowerCase()\r\n        \r\n        const response = await usersService.getAllUsers({\r\n          page: currentPage,\r\n          limit: 10,\r\n          search: searchTerm || undefined,\r\n          membershipStatus: membershipStatus,\r\n        })\r\n\r\n        if (response.success && response.data) {\r\n          const formattedUsers = response.data.users.map(formatUserForDisplay)\r\n          setApiUsers(formattedUsers)\r\n          setPagination(response.data.pagination)\r\n        } else {\r\n          setError(response.error || 'Failed to fetch users')\r\n        }\r\n      } catch (err) {\r\n        setError(err instanceof Error ? err.message : 'An unexpected error occurred')\r\n      } finally {\r\n        setIsLoading(false)\r\n      }\r\n    }\r\n\r\n    fetchUsers()\r\n  }, [currentPage, activeTab, searchTerm])\r\n\r\n  // Use API users\r\n  const displayUsers = apiUsers\r\n\r\n  // Client-side filtering and sorting (if API doesn't handle it)\r\n  const filteredUsers = displayUsers\r\n    .filter((user) => {\r\n      // If using API, search is handled server-side, but we can still filter locally if needed\r\n      if (apiUsers.length > 0) {\r\n        // API already filtered, just sort\r\n        return true\r\n      }\r\n      return true\r\n    })\r\n    .sort((a, b) => {\r\n      if (sortBy === \"name\") return a.name.localeCompare(b.name)\r\n      if (sortBy === \"joined\") {\r\n        const aDate = new Date(a.joined.split('/').reverse().join('-'))\r\n        const bDate = new Date(b.joined.split('/').reverse().join('-'))\r\n        return bDate.getTime() - aDate.getTime()\r\n      }\r\n      if (sortBy === \"spent\") {\r\n        const aVal = Number.parseFloat(a.totalSpent.replace(/[^0-9.-]+/g, \"\"))\r\n        const bVal = Number.parseFloat(b.totalSpent.replace(/[^0-9.-]+/g, \"\"))\r\n        return bVal - aVal\r\n      }\r\n      return 0\r\n    })\r\n\r\n  const handleEditUser = (user: FormattedUser) => {\r\n    setEditingUser(user)\r\n    setEditFormData({ ...user, password: \"\" }) // Initialize password as empty\r\n  }\r\n\r\n  const handleSaveUser = async () => {\r\n    if (!editFormData || !editingUser) {\r\n      console.error(\"[Users List] Cannot save: editFormData or editingUser is null\")\r\n      return\r\n    }\r\n\r\n    // Validate userId\r\n    if (!editingUser.id || editingUser.id.trim() === \"\") {\r\n      console.error(\"[Users List] Cannot save: editingUser.id is missing or empty\", editingUser)\r\n      setError(\"User ID is missing. Please try again.\")\r\n      return\r\n    }\r\n\r\n    try {\r\n      // Parse name into firstName and lastName\r\n      const nameParts = (editFormData.name || \"\").trim().split(\" \")\r\n      const firstName = nameParts[0] || \"\"\r\n      const lastName = nameParts.slice(1).join(\" \") || \"\"\r\n\r\n      // Map membership status from display format to API format\r\n      let membershipStatus: string | undefined\r\n      if (editFormData.membership) {\r\n        if (editFormData.membership.includes(\"BLANCO\")) {\r\n          membershipStatus = \"blanco\"\r\n        } else if (editFormData.membership.includes(\"REPOSADO\")) {\r\n          membershipStatus = \"reposado\"\r\n        } else if (editFormData.membership.includes(\"ANEJO\")) {\r\n          membershipStatus = \"anejo\"\r\n        } else if (editFormData.membership.includes(\"SECRET\")) {\r\n          membershipStatus = \"secret\"\r\n        } else if (editFormData.membership === \"No Membership\") {\r\n          membershipStatus = \"none\"\r\n        }\r\n      }\r\n\r\n      // Get userId from either editingUser.id or rawUser.id (fallback)\r\n      const userId = editingUser.id?.trim() || editingUser.rawUser?.id?.trim()\r\n      \r\n      if (!userId) {\r\n        console.error(\"[Users List] Cannot find userId in editingUser:\", editingUser)\r\n        setError(\"User ID is missing. Please try again.\")\r\n        return\r\n      }\r\n\r\n      // Prepare update data\r\n      const updateData: {\r\n        userId: string\r\n        firstName?: string\r\n        lastName?: string\r\n        email?: string\r\n        phone?: string\r\n        password?: string\r\n        membershipStatus?: string\r\n      } = {\r\n        userId: userId, // Use the validated userId\r\n      }\r\n      \r\n      console.log(\"[Users List] Editing user ID:\", userId)\r\n      console.log(\"[Users List] Editing user object:\", editingUser)\r\n      console.log(\"[Users List] Update data before adding fields:\", updateData)\r\n\r\n      // Only include fields that have changed or are provided\r\n      if (firstName) updateData.firstName = firstName\r\n      if (lastName) updateData.lastName = lastName\r\n      if (editFormData.email) updateData.email = editFormData.email\r\n      if (editFormData.phone) updateData.phone = editFormData.phone\r\n      // Only include password if it's not empty\r\n      if (editFormData.password && editFormData.password.trim() !== \"\") {\r\n        updateData.password = editFormData.password\r\n      }\r\n      if (membershipStatus) updateData.membershipStatus = membershipStatus\r\n\r\n      console.log(\"[Users List] Updating user with data:\", updateData)\r\n\r\n      const response = await usersService.updateUser(updateData)\r\n\r\n      if (response.success) {\r\n        console.log(\"[Users List] User updated successfully\")\r\n        setEditingUser(null)\r\n        setEditFormData(null)\r\n        \r\n        // Refresh users list\r\n        const refreshResponse = await usersService.getAllUsers({\r\n          page: currentPage,\r\n          limit: 10,\r\n          search: searchTerm || undefined,\r\n          membershipStatus: activeTab === \"All\" ? \"all\" : activeTab.toLowerCase(),\r\n        })\r\n\r\n        if (refreshResponse.success && refreshResponse.data) {\r\n          const formattedUsers = refreshResponse.data.users.map(formatUserForDisplay)\r\n          setApiUsers(formattedUsers)\r\n          setPagination(refreshResponse.data.pagination)\r\n        }\r\n      } else {\r\n        console.error(\"[Users List] Failed to update user:\", response.error)\r\n        setError(response.error || 'Failed to update user')\r\n      }\r\n    } catch (err) {\r\n      console.error(\"[Users List] Error updating user:\", err)\r\n      setError(err instanceof Error ? err.message : 'An unexpected error occurred')\r\n    }\r\n  }\r\n\r\n  const handleViewHistory = (user: FormattedUser) => {\r\n    setUserHistory(user)\r\n  }\r\n\r\n  const handleViewProfile = (user: FormattedUser) => {\r\n    router.push(`/users/${user.id}`)\r\n  }\r\n\r\n  const handleDeleteUser = (user: FormattedUser) => {\r\n    setDeletingUser(user)\r\n  }\r\n\r\n  const confirmDeleteUser = async () => {\r\n    if (!deletingUser) return\r\n\r\n    setIsDeleting(true)\r\n    try {\r\n      const userId = deletingUser.id?.trim() || deletingUser.rawUser?.id?.trim()\r\n      \r\n      if (!userId) {\r\n        setError(\"User ID is missing. Cannot delete user.\")\r\n        setDeletingUser(null)\r\n        setIsDeleting(false)\r\n        return\r\n      }\r\n\r\n      const response = await usersService.deleteUser(userId)\r\n\r\n      if (response.success) {\r\n        setDeletingUser(null)\r\n        \r\n        // Refresh users list\r\n        const refreshResponse = await usersService.getAllUsers({\r\n          page: currentPage,\r\n          limit: 10,\r\n          search: searchTerm || undefined,\r\n          membershipStatus: activeTab === \"All\" ? \"all\" : activeTab.toLowerCase(),\r\n        })\r\n\r\n        if (refreshResponse.success && refreshResponse.data) {\r\n          const formattedUsers = refreshResponse.data.users.map(formatUserForDisplay)\r\n          setApiUsers(formattedUsers)\r\n          setPagination(refreshResponse.data.pagination)\r\n        }\r\n      } else {\r\n        setError(response.error || 'Failed to delete user')\r\n      }\r\n    } catch (err) {\r\n      setError(err instanceof Error ? err.message : 'An unexpected error occurred')\r\n    } finally {\r\n      setIsDeleting(false)\r\n    }\r\n  }\r\n\r\n  const handleExportUsers = () => {\r\n    const headers = [\"Name\", \"Email\", \"Phone\", \"Membership\", \"Status\", \"Joined\", \"Total Spent\"]\r\n    const csvContent = [\r\n      headers.join(\",\"),\r\n      ...filteredUsers.map((user) =>\r\n        [user.name, user.email, user.phone, user.membership, user.status, user.joined, user.totalSpent].join(\",\"),\r\n      ),\r\n    ].join(\"\\n\")\r\n\r\n    const blob = new Blob([csvContent], { type: \"text/csv\" })\r\n    const url = window.URL.createObjectURL(blob)\r\n    const link = document.createElement(\"a\")\r\n    link.href = url\r\n    link.download = `users-export-${new Date().toISOString().split(\"T\")[0]}.csv`\r\n    link.click()\r\n    console.log(\"[v0] Exported users to CSV\")\r\n  }\r\n\r\n  const getMembershipColor = (membership: string) => {\r\n    if (membership.includes(\"BLANCO\")) return \"text-blue-400\"\r\n    if (membership.includes(\"REPOSADO\")) return \"text-amber-400\"\r\n    if (membership.includes(\"ANEJO\")) return \"text-amber-600\"\r\n    if (membership.includes(\"SECRET\")) return \"text-purple-400\"\r\n    return \"text-gray-400\"\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header Section - Static (not sticky) */}\r\n      <div className=\"space-y-4\">\r\n        {/* Search Bar */}\r\n        <div className=\"relative\">\r\n          <Search className=\"absolute left-4 top-3.5 w-5 h-5 text-muted-foreground\" />\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Search users by name, email, or phone...\"\r\n            value={searchTerm}\r\n            onChange={(e) => setSearchTerm(e.target.value)}\r\n            className=\"w-full pl-12 pr-4 py-3 bg-card/50 border border-border/50 rounded-xl text-foreground placeholder-muted-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n          />\r\n        </div>\r\n\r\n        {/* Tabs with Horizontal Scroll */}\r\n        <div className=\"flex items-center justify-between gap-4\">\r\n          <div className=\"flex gap-2 overflow-x-auto flex-1 min-w-0 scrollbar-thin scrollbar-thumb-accent/20 scrollbar-track-transparent pb-2\">\r\n            {membershipTabs.map((tab) => (\r\n              <button\r\n                key={tab}\r\n                onClick={() => setActiveTab(tab)}\r\n                className={`px-5 py-2.5 rounded-full whitespace-nowrap font-medium transition-all duration-200 text-sm flex-shrink-0 ${\r\n                  activeTab === tab\r\n                    ? \"bg-accent text-accent-foreground shadow-lg shadow-accent/30\"\r\n                    : \"bg-card/50 border border-border/50 text-foreground hover:border-accent hover:bg-accent/5\"\r\n                }`}\r\n              >\r\n                {tab}\r\n              </button>\r\n            ))}\r\n          </div>\r\n          <button\r\n            onClick={handleExportUsers}\r\n            className=\"px-4 py-2.5 bg-accent/10 border border-accent/30 rounded-lg text-accent hover:bg-accent/20 transition-all duration-200 flex items-center gap-2 font-medium text-sm hover:shadow-lg hover:shadow-accent/20 whitespace-nowrap flex-shrink-0\"\r\n          >\r\n            <Download className=\"w-4 h-4\" />\r\n            Export\r\n          </button>\r\n        </div>\r\n\r\n        {/* Sort Buttons */}\r\n        <div className=\"flex gap-2 flex-wrap\">\r\n          <span className=\"text-sm text-muted-foreground flex items-center gap-2\">Sort by:</span>\r\n          {([\"name\", \"joined\", \"spent\"] as const).map((sort) => (\r\n            <button\r\n              key={sort}\r\n              onClick={() => setSortBy(sort)}\r\n              className={`px-3 py-1.5 rounded-lg text-xs font-medium transition-all flex items-center gap-1 ${\r\n                sortBy === sort\r\n                  ? \"bg-accent/20 text-accent border border-accent/30\"\r\n                  : \"bg-muted/50 text-muted-foreground border border-border/50 hover:border-border\"\r\n              }`}\r\n            >\r\n              <ArrowUpDown className=\"w-3 h-3\" />\r\n              {sort === \"name\" ? \"Name\" : sort === \"joined\" ? \"Joined\" : \"Total Spent\"}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Stats Cards - Static */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        {[\r\n          { label: \"Total Users\", value: pagination.total.toString(), icon: \"ðŸ‘¥\" },\r\n          {\r\n            label: \"Active MemberShip\",\r\n            value: displayUsers.filter((u) => u.status === \"Active\").length.toString(),\r\n            icon: \"âœ“\",\r\n          },\r\n          { label: \"Search Results\", value: filteredUsers.length.toString(), icon: \"ðŸ”\" },\r\n        ].map((stat) => (\r\n          <div\r\n            key={stat.label}\r\n            className=\"bg-gradient-to-br from-card to-card/50 border border-border/50 rounded-xl p-6 hover:border-accent/30 transition-all\"\r\n          >\r\n            <div className=\"flex items-center justify-between\">\r\n              <div>\r\n                <p className=\"text-sm font-medium text-muted-foreground\">{stat.label}</p>\r\n                <p className=\"text-3xl font-bold text-foreground mt-2\">{stat.value}</p>\r\n              </div>\r\n              <span className=\"text-4xl opacity-30\">{stat.icon}</span>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"p-4 rounded-lg bg-destructive/10 border border-destructive/20 text-destructive text-sm\">\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      {/* Professional Table */}\r\n      <div className=\"bg-card/30 border border-border/30 rounded-xl backdrop-blur-sm flex flex-col overflow-hidden\">\r\n        {isLoading ? (\r\n          <div className=\"p-12 text-center\">\r\n            <Loader2 className=\"w-8 h-8 animate-spin mx-auto text-accent mb-4\" />\r\n            <p className=\"text-muted-foreground\">Loading users...</p>\r\n          </div>\r\n        ) : filteredUsers.length > 0 ? (\r\n          <>\r\n            <div className=\"overflow-x-auto overflow-y-scroll max-h-[60vh] min-h-[400px] custom-scrollbar\" style={{ overscrollBehavior: 'contain' }}>\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-muted/30 border-b border-border/50\">\r\n                  <tr>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Name</th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Email</th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Status</th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Membership</th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Joined</th>\r\n                    <th className=\"px-6 py-4 text-left text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Total Spent</th>\r\n                    <th className=\"px-6 py-4 text-right text-xs font-semibold text-muted-foreground uppercase tracking-wider\">Actions</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"divide-y divide-border/30\">\r\n                  {filteredUsers.map((user) => (\r\n                    <tr key={user.id} className=\"hover:bg-accent/5 transition-colors\">\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"font-semibold text-foreground\">{user.name}</div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm text-muted-foreground\">{user.email}</div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span\r\n                          className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${\r\n                            \"bg-accent/10 text-accent\"\r\n                          }`}\r\n                        >\r\n                          Active\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        <span className={`text-sm ${getMembershipColor(user.membership)}`}>\r\n                          {user.membership}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground\">\r\n                        {user.joined}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-muted-foreground\">\r\n                        {user.totalSpent}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                        <div className=\"flex items-center justify-end gap-2\">\r\n                          <button\r\n                            onClick={() => handleViewProfile(user)}\r\n                            className=\"px-3 py-1.5 bg-blue-500/10 border border-blue-500/30 rounded-lg text-blue-500 hover:bg-blue-500/20 transition-all flex items-center gap-1.5 text-xs\"\r\n                            title=\"View Profile\"\r\n                          >\r\n                            <Eye className=\"w-3.5 h-3.5\" />\r\n                            View\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleEditUser(user)}\r\n                            className=\"px-3 py-1.5 bg-accent/10 border border-accent/30 rounded-lg text-accent hover:bg-accent/20 transition-all flex items-center gap-1.5 text-xs\"\r\n                            title=\"Edit User\"\r\n                          >\r\n                            <Edit className=\"w-3.5 h-3.5\" />\r\n                            Edit\r\n                          </button>\r\n                          <button\r\n                            onClick={() => handleDeleteUser(user)}\r\n                            className=\"px-3 py-1.5 bg-destructive/10 border border-destructive/30 rounded-lg text-destructive hover:bg-destructive/20 transition-all flex items-center gap-1.5 text-xs\"\r\n                            title=\"Delete User\"\r\n                          >\r\n                            <Trash2 className=\"w-3.5 h-3.5\" />\r\n                            Delete\r\n                          </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n\r\n            {/* Pagination */}\r\n            <div className=\"px-6 py-4 border-t border-border/30 bg-muted/10 flex items-center justify-between\">\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                Showing page {pagination.page} of {pagination.totalPages} â€¢ Total {pagination.total} users\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={() => setCurrentPage(prev => Math.max(1, prev - 1))}\r\n                  disabled={currentPage === 1 || isLoading}\r\n                  className=\"px-4 py-2 bg-card border border-border rounded-lg text-foreground hover:bg-accent/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm\"\r\n                >\r\n                  Previous\r\n                </button>\r\n                <div className=\"px-3 py-2 text-sm text-muted-foreground\">\r\n                  {pagination.page} / {pagination.totalPages}\r\n                </div>\r\n                <button\r\n                  onClick={() => setCurrentPage(prev => Math.min(pagination.totalPages, prev + 1))}\r\n                  disabled={currentPage === pagination.totalPages || isLoading}\r\n                  className=\"px-4 py-2 bg-card border border-border rounded-lg text-foreground hover:bg-accent/10 disabled:opacity-50 disabled:cursor-not-allowed transition-all text-sm\"\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className=\"p-12 text-center\">\r\n            <p className=\"text-muted-foreground text-lg\">No users found matching your criteria</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Modals */}\r\n      {editingUser && editFormData && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm overflow-y-auto\">\r\n          <div className=\"bg-card border border-border rounded-2xl w-full max-w-md p-8 space-y-6 shadow-2xl my-8\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-2xl font-bold\">Edit User Profile</h2>\r\n              <button\r\n                onClick={() => setEditingUser(null)}\r\n                className=\"text-muted-foreground hover:text-foreground transition-colors p-1\"\r\n              >\r\n                <X className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"space-y-5\">\r\n              <div>\r\n                <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Full Name</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={editFormData?.name || \"\"}\r\n                  onChange={(e) => editFormData && setEditFormData({ ...editFormData, name: e.target.value })}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Email</label>\r\n                <input\r\n                  type=\"email\"\r\n                  value={editFormData?.email || \"\"}\r\n                  onChange={(e) => editFormData && setEditFormData({ ...editFormData, email: e.target.value })}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Password</label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={editFormData?.password || \"\"}\r\n                  onChange={(e) => editFormData && setEditFormData({ ...editFormData, password: e.target.value })}\r\n                  placeholder=\"Leave empty to keep current password\"\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                />\r\n                <p className=\"text-xs text-muted-foreground mt-1\">Leave empty to keep current password</p>\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Phone</label>\r\n                <input\r\n                  type=\"tel\"\r\n                  value={editFormData?.phone || \"\"}\r\n                  onChange={(e) => editFormData && setEditFormData({ ...editFormData, phone: e.target.value })}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Membership Level</label>\r\n                <select\r\n                  value={editFormData?.membership || \"\"}\r\n                  onChange={(e) => editFormData && setEditFormData({ ...editFormData, membership: e.target.value })}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                >\r\n                  <option>BLANCO MEMBER</option>\r\n                  <option>REPOSADO MEMBER</option>\r\n                  <option>ANEJO MEMBER</option>\r\n                  <option>SECRET MEMBER</option>\r\n                  <option>No Membership</option>\r\n                </select>\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Status</label>\r\n                <select\r\n                  value={editFormData?.status || \"\"}\r\n                  onChange={(e) => editFormData && setEditFormData({ ...editFormData, status: e.target.value })}\r\n                  className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                >\r\n                  <option>Active</option>\r\n                  <option>Inactive</option>\r\n                  <option>Suspended</option>\r\n                </select>\r\n              </div>\r\n              <div className=\"grid grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Membership Date</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editFormData?.membershipDate || \"\"}\r\n                    onChange={(e) => editFormData && setEditFormData({ ...editFormData, membershipDate: e.target.value })}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                    placeholder=\"DD/MM/YYYY\"\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"text-sm font-medium text-muted-foreground mb-2 block\">Total Spent</label>\r\n                  <input\r\n                    type=\"text\"\r\n                    value={editFormData?.totalSpent || \"\"}\r\n                    onChange={(e) => editFormData && setEditFormData({ ...editFormData, totalSpent: e.target.value })}\r\n                    className=\"w-full px-4 py-2.5 bg-muted/50 border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-all\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div className=\"flex gap-3 pt-4\">\r\n                <button\r\n                  onClick={() => setEditingUser(null)}\r\n                  className=\"flex-1 px-4 py-2.5 border border-border rounded-lg text-foreground hover:bg-muted transition-colors font-medium\"\r\n                >\r\n                  Cancel\r\n                </button>\r\n                <button\r\n                  onClick={handleSaveUser}\r\n                  className=\"flex-1 px-4 py-2.5 bg-accent text-accent-foreground rounded-lg hover:bg-accent/90 transition-colors font-medium shadow-lg shadow-accent/30\"\r\n                >\r\n                  Save Changes\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {userHistory && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n          <div className=\"bg-card border border-border rounded-2xl max-w-md w-full p-8 space-y-6 shadow-2xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h2 className=\"text-2xl font-bold\">Transaction History</h2>\r\n              <button\r\n                onClick={() => setUserHistory(null)}\r\n                className=\"text-muted-foreground hover:text-foreground transition-colors p-1\"\r\n              >\r\n                <X className=\"w-6 h-6\" />\r\n              </button>\r\n            </div>\r\n            <div className=\"space-y-4 max-h-80 overflow-y-auto\">\r\n              <p className=\"text-sm text-muted-foreground\">\r\n                <span className=\"font-semibold text-foreground\">{userHistory.name}</span> â€¢ {userHistory.transactions}\r\n              </p>\r\n              <div className=\"space-y-3\">\r\n                {[\r\n                  { action: \"Joined member program\", date: userHistory.membershipDate, icon: \"âœ“\" },\r\n                  { action: \"Purchased merchandise\", date: userHistory.lastPurchase, icon: \"ðŸ›\" },\r\n                  { action: \"Attended event\", date: \"05/01/2024\", icon: \"ðŸŽ‰\" },\r\n                ].map((item, idx) => (\r\n                  <div key={idx} className=\"flex gap-3 pb-3 border-b border-border/30\">\r\n                    <span className=\"text-lg\">{item.icon}</span>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-foreground\">{item.action}</p>\r\n                      <p className=\"text-xs text-muted-foreground\">{item.date}</p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {deletingUser && (\r\n        <div className=\"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm\">\r\n          <div className=\"bg-card border border-border rounded-2xl max-w-sm w-full p-8 space-y-6 shadow-2xl\">\r\n            <h2 className=\"text-2xl font-bold\">Delete User?</h2>\r\n            <p className=\"text-muted-foreground\">\r\n              Are you sure you want to delete{\" \"}\r\n              <span className=\"font-semibold text-foreground\">\"{deletingUser.name}\"</span>? This action cannot be\r\n              undone.\r\n            </p>\r\n            <div className=\"flex gap-3\">\r\n              <button\r\n                onClick={() => setDeletingUser(null)}\r\n                disabled={isDeleting}\r\n                className=\"flex-1 px-4 py-2.5 border border-border rounded-lg text-foreground hover:bg-muted transition-colors font-medium disabled:opacity-50\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={confirmDeleteUser}\r\n                disabled={isDeleting}\r\n                className=\"flex-1 px-4 py-2.5 bg-destructive text-white rounded-lg hover:bg-destructive/90 transition-colors font-medium shadow-lg shadow-destructive/30 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\r\n              >\r\n                {isDeleting ? (\r\n                  <>\r\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\r\n                    Deleting...\r\n                  </>\r\n                ) : (\r\n                  \"Delete\"\r\n                )}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}}]
}